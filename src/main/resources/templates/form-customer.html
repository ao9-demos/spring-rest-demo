<!DOCTYPE html>

<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <title>Customer Detail</title>
</head>

<body>
    <h1>CRM - Customer Relationship Manager</h1>

    <form th:action="@{/customer/save}" th:object="${customer}" method="POST">
        <table class="table table-dark">
            <tbody>
                <tr>
                    <td></td>
                    <td>Hidden ids in this page to make sure update to the same database item</td>
                </tr>

                <input type="hidden" th:field="*{id}" >

                <tr>
                    <td><label>First Name:</label></td>
                    <td><input type="text" th:field="*{firstName}" ></td>
                </tr>

                <tr>
                    <td><label>Last Name:</label></td>
                    <td><input type="text" th:field="*{lastName}" ></td>
                </tr>

                <tr>
                    <td><label>Email:</label></td>
                    <td><input type="text" th:field="*{email}" ></td>
                </tr>

                <tr>
                    <td><label>Active:</label></td>
                    <td><input type="checkbox" name="active" th:checked="*{active}" ></td>
                </tr>

                <input type="hidden" th:field="*{address.id}" >

                <tr>
                    <td><label>Street:</label></td>
                    <td><input type="text" th:field="*{address.street}" ></td>
                </tr>

                <tr>
                    <td><label>City:</label></td>
                    <td><input type="text" th:field="*{address.city}" ></td>
                </tr>

                <tr>
                    <td><label>Province:</label></td>
                    <td><input type="text" th:field="*{address.province}" ></td>
                </tr>

                <tr>
                    <td><label>Zip:</label></td>
                    <td><input type="text" th:field="*{address.zip}" ></td>
                </tr>

                <tr>
                    <td><label>Country:</label></td>
                    <td><input type="text" th:field="*{address.country}" ></td>
                </tr>

                <tr>
                    <td><a type="button" class="btn btn-lg btn-secondary" th:href="@{/customer/list}">Back</a></td>
                    <td><input type="submit" value="Save" class="btn btn-lg btn-primary"></td>
                </tr>
            </tbody>
        </table>
    </form>

    <table class="table table-dark">
        <td>Languages:</td>
        <tr th:each="tempLanguage : ${customer.languages}">
            <td th:text="${tempLanguage.id}"/>
            <td th:text="${tempLanguage.name}"/>
        </tr>
    </table>

</body>

</html>